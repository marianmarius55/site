<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volumetric Shipping Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }
        
        .products-grid {
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .product-card {
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            background: white;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border-color: #667eea;
        }
        
        .product-card.selected {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }
        
        .product-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            background: #f5f5f5;
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-header {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .checkbox-wrapper {
            margin-top: 3px;
        }
        
        .checkbox {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: #667eea;
        }
        
        .product-title {
            flex: 1;
            font-size: 1em;
            font-weight: 600;
            color: #333;
            line-height: 1.4;
        }
        
        .store-badge {
            display: inline-block;
            padding: 4px 12px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            font-size: 0.85em;
            margin-bottom: 10px;
        }
        
        .product-option {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
            line-height: 1.4;
        }
        
        .quantity-badge {
            display: inline-block;
            background: #f0f0f0;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            color: #333;
            margin-bottom: 15px;
        }
        
        .cost-breakdown {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        .cost-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        
        .cost-label {
            color: #666;
        }
        
        .cost-value {
            font-weight: 600;
            color: #333;
        }
        
        .cost-total {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 2px solid #dee2e6;
            font-size: 1.1em;
        }
        
        .cost-total .cost-value {
            color: #667eea;
            font-size: 1.2em;
        }
        
        .weight-badge {
            display: inline-block;
            background: #fff3cd;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 0.85em;
            color: #856404;
            margin-left: 8px;
        }
        
        .summary-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            position: sticky;
            bottom: 0;
        }
        
        .summary-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .summary-title {
            font-size: 2em;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .summary-box {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .summary-box-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .summary-box-value {
            font-size: 1.8em;
            font-weight: bold;
        }
        
        .grand-total {
            background: rgba(255,255,255,0.2);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.3em;
        }
        
        .grand-total-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“¦ Volumetric Shipping Calculator</h1>
            <p>Select items to calculate volumetric shipping cost to Romania</p>
        </div>
        
        <div class="products-grid" id="productsGrid"></div>
        
        <div class="summary-section">
            <div class="summary-content">
                <h2 class="summary-title">ðŸ“Š Shipping Summary</h2>
                <div class="summary-grid">
                    <div class="summary-box">
                        <div class="summary-box-label">Selected Items</div>
                        <div class="summary-box-value" id="selectedCount">0</div>
                    </div>
                    <div class="summary-box">
                        <div class="summary-box-label">Actual Weight</div>
                        <div class="summary-box-value" id="actualWeight">0g</div>
                    </div>
                    <div class="summary-box">
                        <div class="summary-box-label">Volumetric Weight</div>
                        <div class="summary-box-value" id="volumetricWeight">0g</div>
                    </div>
                    <div class="summary-box">
                        <div class="summary-box-label">Chargeable Weight</div>
                        <div class="summary-box-value" id="chargeableWeight">0g</div>
                    </div>
                </div>
                <div class="grand-total">
                    <div>TOTAL SHIPPING COST</div>
                    <div class="grand-total-value" id="grandTotal">lei 0.00</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const products = [
            {
                id: 1,
                orderId: "O251029518565",
                name: "Trendy Thickened Paper Playing Cards for Home Parties, Board Games, Dou Di Zhu Card Games, Personalized Trendy Brand Playing Cards Customization",
                option: "Color Classification: Crow Heart Playing Cards 1 Set",
                quantity: 2,
                actualWeight: 124,
                volumetricWeight: 50,
                store: "taobao",
                image: "https://img.alicdn.com/bao/uploaded/i1/1791492991/O1CN01L95ncD1XxvP7TCBbB_!!1791492991.jpg"
            },
            {
                id: 2,
                orderId: "O251029618565",
                name: "ã€Florichã€‘ceiling-superior limit of cost performance--TN",
                option: "é¢œè‰²: DM0032-003/é»‘ç°; size: (Men) US 9.5=EUR43",
                quantity: 1,
                actualWeight: 787,
                volumetricWeight: 3000,
                store: "weidian",
                image: "https://si.geilicdn.com/open1627733485-1234478995-4670000001975a3013180a8133b0_960_956.jpg"
            },
            {
                id: 3,
                orderId: "O251029718565",
                name: "Fitness Long Sleeve Sports Quick-Dry Clothes Compression Clothes Football Basketball Running Base Clothes Elastic Sweat-Absorbing Breathable Tight Clothes",
                option: "Color: Black; Size: S",
                quantity: 1,
                actualWeight: 154,
                volumetricWeight: 400,
                store: "1688",
                image: "https://cbu01.alicdn.com/img/ibank/2018/465/931/9465139564_2109956746.jpg"
            },
            {
                id: 4,
                orderId: "O251029818565",
                name: "Fitness Long Sleeve Sports Quick-Dry Clothes Compression Clothes Football Basketball Running Base Clothes Elastic Sweat-Absorbing Breathable Tight Clothes",
                option: "Color: Red; Size: M",
                quantity: 1,
                actualWeight: 153,
                volumetricWeight: 400,
                store: "1688",
                image: "https://cbu01.alicdn.com/img/ibank/2018/785/631/9465136587_2109956746.jpg"
            },
            {
                id: 5,
                orderId: "O251029918565",
                name: "Fitness Long Sleeve Sports Quick-Dry Clothes Compression Clothes Football Basketball Running Base Clothes Elastic Sweat-Absorbing Breathable Tight Clothes",
                option: "Color: White; Size: S",
                quantity: 1,
                actualWeight: 146,
                volumetricWeight: 400,
                store: "1688",
                image: "https://cbu01.alicdn.com/img/ibank/2018/897/405/9441504798_2109956746.jpg"
            },
            {
                id: 6,
                orderId: "O251029028565",
                name: "Fitness Long Sleeve Sports Quick-Dry Clothes Compression Clothes Football Basketball Running Base Clothes Elastic Sweat-Absorbing Breathable Tight Clothes",
                option: "Color: White; Size: M",
                quantity: 1,
                actualWeight: 155,
                volumetricWeight: 400,
                store: "1688",
                image: "https://cbu01.alicdn.com/img/ibank/2018/897/405/9441504798_2109956746.jpg"
            },
            {
                id: 7,
                orderId: "O251029328565",
                name: "H Buckle Belt for Men, Pure Cowhide Letter Belt, H Buckle Belt for Young and Middle-Aged Men and Women, Korean Style Fashionable Casual Trendy Belt",
                option: "Color Classification: Orange + H Silver Comes with Bracelet + Hole Punch; size: 110 cm",
                quantity: 1,
                actualWeight: 165,
                volumetricWeight: 250,
                store: "taobao",
                image: "https://img.alicdn.com/bao/uploaded/i3/867101348/O1CN0131nxyT1LpQVimdneg_!!867101348.jpg"
            },
            {
                id: 8,
                orderId: "O251029428565",
                name: "ã€Florichã€‘Batch ä¼‘é—²è¿åŠ¨å«è¡£è£¤å­å¥—è£…131616",
                option: "Color-1: é»‘è‰²; å°ºç : M",
                quantity: 1,
                actualWeight: 665,
                volumetricWeight: 3000,
                store: "weidian",
                image: "https://si.geilicdn.com/open1627733485-1234478995-7182000001976ad65fdc0a231226_1000_1000.jpg"
            },
            {
                id: 9,
                orderId: "O251029528565",
                name: "ã€Florichã€‘Batch ä¼‘é—²è¿åŠ¨å«è¡£è£¤å­å¥—è£…131616",
                option: "Color-1: ç™½è‰²-1; å°ºç : M",
                quantity: 1,
                actualWeight: 666,
                volumetricWeight: 3000,
                store: "weidian",
                image: "https://si.geilicdn.com/open1627733485-1234478995-696f000001976ad67d7f0a23b4de_1000_1000.jpg"
            },
            {
                id: 10,
                orderId: "O251029628565",
                name: "åˆºç»£å•†åœºåŒæ¬¾è¿åŠ¨è£¤ç”·æŸè„šä¼‘é—²ç™¾æ­å«è£¤300gé‡ç£…æ£‰ç¯®çƒä¹åˆ†è£¤æ½®",
                option: "é¢œè‰²: ç°è‰²; å°ºç : M",
                quantity: 1,
                actualWeight: 388,
                volumetricWeight: 3000,
                store: "weidian",
                image: "https://si.geilicdn.com/open1776086400-252808396-560d0000019657fdba280a8115c2_800_800.jpg"
            },
            {
                id: 11,
                orderId: "O251029728565",
                name: "Birthday Party Atmosphere Euro Props Paper Internet Celebrity Live Video Shooting Paper Card Bar Ktv Hand-Thrown Paper",
                option: "Color: Face value 50; Specification: Ten bundles (1000 sheets)",
                quantity: 1,
                actualWeight: 1041,
                volumetricWeight: 350,
                store: "1688",
                image: "https://cbu01.alicdn.com/img/ibank/O1CN01Hw5nvi1urH6OnCtj2_!!2217529696090-0-cib.jpg"
            },
            {
                id: 12,
                orderId: "O251029828565",
                name: "Birthday Party Atmosphere Euro Props Paper Internet Celebrity Live Video Shooting Paper Card Bar Ktv Hand-Thrown Paper",
                option: "Color: Face value 100; Specification: Three bundles (300 photos)",
                quantity: 1,
                actualWeight: 348,
                volumetricWeight: 350,
                store: "1688",
                image: "https://cbu01.alicdn.com/img/ibank/O1CN01Hw5nvi1urH6OnCtj2_!!2217529696090-0-cib.jpg"
            }
        ];

        const totalActualWeight = 6247;
        const totalFreight = 105.43;
        const USD_TO_RON = 4.93;
        const totalFreightRON = totalFreight * USD_TO_RON;
        
        const totalVolumetricWeight = products.reduce((sum, p) => sum + (p.volumetricWeight * p.quantity), 0);
        const chargeableWeight = Math.max(totalActualWeight, totalVolumetricWeight);
        const shippingRatePerGram = totalFreightRON / chargeableWeight;

        function calculateItemCosts(product) {
            const itemActualWeight = product.actualWeight * product.quantity;
            const itemVolumetricWeight = product.volumetricWeight * product.quantity;
            const itemChargeableWeight = Math.max(itemActualWeight, itemVolumetricWeight);
            const shippingCost = itemChargeableWeight * shippingRatePerGram;
            
            return {
                shippingCost: shippingCost,
                actualWeight: itemActualWeight,
                volumetricWeight: itemVolumetricWeight,
                chargeableWeight: itemChargeableWeight
            };
        }

        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => {
                const costs = calculateItemCosts(product);
                return `
                    <div class="product-card" id="card-${product.id}">
                        <img src="${product.image}" alt="${product.name}" class="product-image" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22300%22%3E%3Crect fill=%22%23f0f0f0%22 width=%22400%22 height=%22300%22/%3E%3Ctext fill=%22%23999%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3ENo Image%3C/text%3E%3C/svg%3E'">
                        <div class="product-info">
                            <div class="product-header">
                                <div class="checkbox-wrapper">
                                    <input type="checkbox" class="checkbox" id="check-${product.id}" onchange="toggleProduct(${product.id})">
                                </div>
                                <label for="check-${product.id}" class="product-title">${product.name}</label>
                            </div>
                            
                            <span class="store-badge">${product.store}</span>
                            <div class="product-option">${product.option}</div>
                            <div class="quantity-badge">Qty: ${product.quantity} 
                                <span class="weight-badge">${costs.chargeableWeight > costs.actualWeight ? 'Vol. Weight' : 'Actual Weight'}</span>
                            </div>
                            
                            <div class="cost-breakdown">
                                <div class="cost-row">
                                    <span class="cost-label">Actual Weight:</span>
                                    <span class="cost-value">${costs.actualWeight}g</span>
                                </div>
                                <div class="cost-row">
                                    <span class="cost-label">Volumetric Weight:</span>
                                    <span class="cost-value">${costs.volumetricWeight}g</span>
                                </div>
                                <div class="cost-row">
                                    <span class="cost-label">Chargeable Weight:</span>
                                    <span class="cost-value" style="color: #667eea;">${costs.chargeableWeight}g</span>
                                </div>
                                <div class="cost-row cost-total">
                                    <span class="cost-label">Shipping Cost:</span>
                                    <span class="cost-value">lei ${costs.shippingCost.toFixed(2)}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function toggleProduct(productId) {
            const card = document.getElementById(`card-${productId}`);
            const checkbox = document.getElementById(`check-${productId}`);
            
            if (checkbox.checked) {
                card.classList.add('selected');
            } else {
                card.classList.remove('selected');
            }
            
            updateSummary();
        }

        function updateSummary() {
            let selectedCount = 0;
            let totalActual = 0;
            let totalVolumetric = 0;
            let totalShippingCost = 0;
            
            products.forEach(product => {
                const checkbox = document.getElementById(`check-${product.id}`);
                if (checkbox.checked) {
                    const costs = calculateItemCosts(product);
                    selectedCount++;
                    totalActual += costs.actualWeight;
                    totalVolumetric += costs.volumetricWeight;
                    totalShippingCost += costs.shippingCost;
                }
            });
            
            const totalChargeable = Math.max(totalActual, totalVolumetric);
            
            document.getElementById('selectedCount').textContent = selectedCount;
            document.getElementById('actualWeight').textContent = `${totalActual}g`;
            document.getElementById('volumetricWeight').textContent = `${totalVolumetric}g`;
            document.getElementById('chargeableWeight').textContent = `${totalChargeable}g`;
            document.getElementById('grandTotal').textContent = `lei ${totalShippingCost.toFixed(2)}`;
        }

        renderProducts();
        updateSummary();
    </script>
</body>
</html>
